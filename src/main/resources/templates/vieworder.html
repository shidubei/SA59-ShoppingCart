<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Order List</title>
</head>
<body>
    <div class="container mt-4">
        <h1 th:text="${message}">Order List</h1>

        <!-- Check if any orders are available -->
        <div th:if="${orders.size() > 0}">
            <!-- Table -->
            <table class="table table-bordered">
                <!-- Table Heading -->
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Order Date</th>
                        <th>Order Status</th>
                        <th>Total Amount</th>
                        <th>Customer ID</th>
                        <th>Actions</th>
                    </tr>
                </thead>

                <!-- Table Body -->
                <tbody>
                    <tr th:each="order : ${orders}">
                        <td th:text="${order.id}"></td>
                        <td th:text="${order.orderDate}"></td>
                        <td th:text="${order.status}"></td>
                        <td th:text="${order.totalAmount}"></td>
                        <td th:text="${order.customer.id}"></td>

                        <!-- Corrected link to view order details -->
                        <td>
                            <a th:href="@{'/customer/order/vieworderdetail/' + ${order.id} + '?customerId=' + ${order.customer.id}}">View Details</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- If no orders found -->
        <div th:if="${orders.size() == 0}">
            <p>No orders found for this customer.</p>
        </div>
    </div>
</body>
</html>