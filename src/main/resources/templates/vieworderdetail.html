<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Order Details</title>
</head>
<body>
    <h1>Order Details</h1>

    <!-- Display basic order info -->
    <p><strong>Order ID:</strong> <span th:text="${order.id}"></span></p>
    <p><strong>Order Date:</strong> <span th:text="${order.orderDate}"></span></p>
    <p><strong>Status:</strong> <span th:text="${order.status}"></span></p>
    <p><strong>Total Amount:</strong> <span th:text="${order.totalAmount}"></span></p>

    <!-- Check if the orderDetails list is not empty by using size() -->
    <div th:if="${order.orderDetails.size() > 0}">
        <h2>Items</h2>
        <table>
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                </tr>
            </thead>
            <tbody>
                <!-- Loop through the orderDetails list -->
                <tr th:each="item : ${order.orderDetails}">
                    <td th:text="${item.product.name}"></td>
                    <td th:text="${item.quantity}"></td>
                    <td th:text="${item.product.price}"></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Display a message if the orderDetails list is empty -->
    <p th:if="${order.orderDetails.size() == 0}">No items found in this order.</p>

    <br>
    <!-- Link to go back to the order list for the specific customer -->
    <a th:href="@{/customer/order/vieworder/{customerId}(customerId=${order.customer.id})}">View Orders</a>
</body>
</html>